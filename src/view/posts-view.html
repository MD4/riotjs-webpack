import RiotControl from 'riotcontrol'

<posts-view class="ui three stackable cards">

  <postcell each={_posts} data={this}></postcell>

  <script type="text/babel">
    this.mixin('controlMixin')
    this._posts = []

    this.on('mount', () => {
      RiotControl.trigger(riot.VE.LOAD_POSTS)
    })

    this.onControl(riot.SE.POSTS_CHANGED, posts => {
      this._posts = posts
      this.update()
    })
  </script>
</posts-view>
