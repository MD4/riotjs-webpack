import RiotControl from 'riotcontrol'
import stores from './store/stores'

<app>

  <div class="ui container">
    <header></header>

    <div id="mainview"></div>

    <footer></footer>
  </div>

  <style scoped>
    header {
      margin: 40px;
    }

    footer {
      margin: 40px;
    }

    .ui.divider {
      margin: 30px;
    }
  </style>

  <script type="text/babel">
    this.mixin('controlMixin')
    this.mixin('viewContainerMixin', { container: this.mainview })

    this.onControl(riot.events.route.store.ROUTE_CHANGED, (route, data) => {
      switch (route) {
        case 'beers':
          this.loadView('beers')
          break
        default:
          RiotControl.trigger(riot.events.route.view.GOTO, 'beers')
      }
    })

    this.on('mount', () => {
      stores.route.start()
    })
  </script>
</app>
